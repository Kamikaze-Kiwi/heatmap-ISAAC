/*
 Highmaps JS v10.1.0 (2022-04-29)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(w){a(w);a.Highcharts=w;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function w(a,h,q,k){a.hasOwnProperty(h)||(a[h]=k.apply(null,q),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:a[h]}})))}a=a?a._modules:{};w(a,"Core/Axis/Color/ColorAxisComposition.js",
[a["Core/Color/Color.js"],a["Core/Utilities.js"]],function(a,h){var q=a.parse,k=h.addEvent,n=h.extend,f=h.merge,d=h.pick,u=h.splat,p;(function(m){function p(){var g=this,l=this.options;this.colorAxis=[];l.colorAxis&&(l.colorAxis=u(l.colorAxis),l.colorAxis.forEach(function(l,b){l.index=b;new A(g,l)}))}function e(g){var l=this,b=function(b){b=g.allItems.indexOf(b);-1!==b&&(l.destroyItem(g.allItems[b]),g.allItems.splice(b,1))},v=[],x,c;(this.chart.colorAxis||[]).forEach(function(g){(x=g.options)&&x.showInLegend&&
(x.dataClasses&&x.visible?v=v.concat(g.getDataClassLegendSymbols()):x.visible&&v.push(g),g.series.forEach(function(g){if(!g.options.showInLegend||x.dataClasses)"point"===g.options.legendType?g.points.forEach(function(g){b(g)}):b(g)}))});for(c=v.length;c--;)g.allItems.unshift(v[c])}function c(g){g.visible&&g.item.legendColor&&g.item.legendSymbol.attr({fill:g.item.legendColor})}function b(){var g=this.chart.colorAxis;g&&g.forEach(function(g,l,b){g.update({},b)})}function t(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function B(){var g=this.axisTypes;g?-1===g.indexOf("colorAxis")&&g.push("colorAxis"):this.axisTypes=["colorAxis"]}function E(g){var l=this,b=g?"show":"hide";l.visible=l.options.visible=!!g;["graphic","dataLabel"].forEach(function(g){if(l[g])l[g][b]()});this.series.buildKDTree()}function r(){var g=this,l=this.options.nullColor,b=this.colorAxis,v=this.colorKey;(this.data.length?this.data:this.points).forEach(function(x){var c=x.getNestedProperty(v);
(c=x.options.color||(x.isNull||null===x.value?l:b&&"undefined"!==typeof c?b.toColor(c,x):x.color||g.color))&&x.color!==c&&(x.color=c,"point"===g.options.legendType&&x.legendItem&&g.chart.legend.colorizeItem(x,x.visible))})}function y(g){var l=g.prototype.createAxis;g.prototype.createAxis=function(g,b){if("colorAxis"!==g)return l.apply(this,arguments);var v=new A(this,f(b.axis,{index:this[g].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(g){g.series=[]});this.series.forEach(function(g){g.bindAxes();
g.isDirtyData=!0});d(b.redraw,!0)&&this.redraw(b.animation);return v}}function v(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function g(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var l=[],A;m.compose=function(m,f,d,z,x){A||(A=m);-1===l.indexOf(f)&&(l.push(f),m=f.prototype,m.collectionsWithUpdate.push("colorAxis"),m.collectionsWithInit.colorAxis=[m.addColorAxis],k(f,"afterGetAxes",p),y(f));-1===l.indexOf(d)&&(l.push(d),f=d.prototype,
f.fillSetter=v,f.strokeSetter=g);-1===l.indexOf(z)&&(l.push(z),k(z,"afterGetAllItems",e),k(z,"afterColorizeItem",c),k(z,"afterUpdate",b));-1===l.indexOf(x)&&(l.push(x),n(x.prototype,{optionalAxis:"colorAxis",translateColors:r}),n(x.prototype.pointClass.prototype,{setVisible:E}),k(x,"afterTranslate",t),k(x,"bindAxes",B))};m.pointSetVisible=E})(p||(p={}));return p});w(a,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,
startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}});w(a,"Core/Axis/Color/ColorAxis.js",[a["Core/Axis/Axis.js"],a["Core/Color/Color.js"],a["Core/Axis/Color/ColorAxisComposition.js"],a["Core/Axis/Color/ColorAxisDefaults.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,
q,k,n,f,d,u){var p=this&&this.__extends||function(){var b=function(c,y){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var l in g)g.hasOwnProperty(l)&&(b[l]=g[l])};return b(c,y)};return function(c,y){function v(){this.constructor=c}b(c,y);c.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}}(),m=h.parse,z=n.noop,e=d.series,c=u.extend,b=u.isNumber,t=u.merge,B=u.pick;h=function(d){function r(b,c){var g=d.call(this,b,c)||this;
g.beforePadding=!1;g.chart=void 0;g.coll="colorAxis";g.dataClasses=void 0;g.legendItem=void 0;g.legendItems=void 0;g.name="";g.options=void 0;g.stops=void 0;g.visible=!0;g.init(b,c);return g}p(r,d);r.compose=function(b,c,g,l){q.compose(r,b,c,g,l)};r.prototype.init=function(b,c){var g=b.options.legend||{},l=c.layout?"vertical"!==c.layout:"vertical"!==g.layout,v=c.visible;g=t(r.defaultColorAxisOptions,c,{showEmpty:!1,title:null,visible:g.enabled&&!1!==v});this.coll="colorAxis";this.side=c.side||l?2:
1;this.reversed=c.reversed||!l;this.opposite=!l;d.prototype.init.call(this,b,g);this.userOptions.visible=v;c.dataClasses&&this.initDataClasses(c);this.initStops();this.horiz=l;this.zoomEnabled=!1};r.prototype.initDataClasses=function(b){var c=this.chart,g=this.options,l=b.dataClasses.length,e,y=0,r=c.options.chart.colorCount;this.dataClasses=e=[];this.legendItems=[];(b.dataClasses||[]).forEach(function(b,v){b=t(b);e.push(b);if(c.styledMode||!b.color)"category"===g.dataClassColor?(c.styledMode||(v=
c.options.colors,r=v.length,b.color=v[y]),b.colorIndex=y,y++,y===r&&(y=0)):b.color=m(g.minColor).tweenTo(m(g.maxColor),2>l?.5:v/(l-1))})};r.prototype.hasData=function(){return!!(this.tickPositions||[]).length};r.prototype.setTickPositions=function(){if(!this.dataClasses)return d.prototype.setTickPositions.call(this)};r.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(b){b.color=m(b[1])})};r.prototype.setOptions=
function(b){d.prototype.setOptions.call(this,b);this.options.crosshair=this.options.marker};r.prototype.setAxisSize=function(){var b=this.legendSymbol,c=this.chart,g=c.options.legend||{},l,e;b?(this.left=g=b.attr("x"),this.top=l=b.attr("y"),this.width=e=b.attr("width"),this.height=b=b.attr("height"),this.right=c.chartWidth-g-e,this.bottom=c.chartHeight-l-b,this.len=this.horiz?e:b,this.pos=this.horiz?g:l):this.len=(this.horiz?g.symbolWidth:g.symbolHeight)||r.defaultLegendLength};r.prototype.normalizedValue=
function(b){this.logarithmic&&(b=this.logarithmic.log2lin(b));return 1-(this.max-b)/(this.max-this.min||1)};r.prototype.toColor=function(b,c){var g=this.dataClasses,l=this.stops,v;if(g)for(v=g.length;v--;){var e=g[v];var t=e.from;l=e.to;if(("undefined"===typeof t||b>=t)&&("undefined"===typeof l||b<=l)){var y=e.color;c&&(c.dataClass=v,c.colorIndex=e.colorIndex);break}}else{b=this.normalizedValue(b);for(v=l.length;v--&&!(b>l[v][0]););t=l[v]||l[v+1];l=l[v+1]||t;b=1-(l[0]-b)/(l[0]-t[0]||1);y=t.color.tweenTo(l.color,
b)}return y};r.prototype.getOffset=function(){var b=this.legendGroup,c=this.chart.axisOffset[this.side];if(b){this.axisParent=b;d.prototype.getOffset.call(this);var g=this.chart.legend;g.allItems.forEach(function(b){b instanceof r&&b.drawLegendSymbol(g,b)});g.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=c}};r.prototype.setLegendColor=function(){var b=this.reversed,c=b?1:0;b=b?0:1;c=this.horiz?[c,0,b,0]:
[0,b,0,c];this.legendColor={linearGradient:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]},stops:this.stops}};r.prototype.drawLegendSymbol=function(b,c){var g=b.padding,l=b.options,v=this.horiz,e=B(l.symbolWidth,v?r.defaultLegendLength:12),t=B(l.symbolHeight,v?12:r.defaultLegendLength),y=B(l.labelPadding,v?16:30);l=B(l.itemDistance,10);this.setLegendColor();c.legendSymbol||(c.legendSymbol=this.chart.renderer.rect(0,b.baseline-11,e,t).attr({zIndex:1}).add(c.legendGroup));this.legendItemWidth=e+g+(v?l:this.options.labels.x+
this.maxLabelLength);this.legendItemHeight=t+g+(v?y:0)};r.prototype.setState=function(b){this.series.forEach(function(c){c.setState(b)})};r.prototype.setVisible=function(){};r.prototype.getSeriesExtremes=function(){var b=this.series,c=b.length,g;this.dataMin=Infinity;for(this.dataMax=-Infinity;c--;){var l=b[c];var t=l.colorKey=B(l.options.colorKey,l.colorKey,l.pointValKey,l.zoneAxis,"y");var r=l.pointArrayMap;var m=l[t+"Min"]&&l[t+"Max"];if(l[t+"Data"])var d=l[t+"Data"];else if(r){d=[];r=r.indexOf(t);
var p=l.yData;if(0<=r&&p)for(g=0;g<p.length;g++)d.push(B(p[g][r],p[g]))}else d=l.yData;m?(l.minColorValue=l[t+"Min"],l.maxColorValue=l[t+"Max"]):(d=e.prototype.getExtremes.call(l,d),l.minColorValue=d.dataMin,l.maxColorValue=d.dataMax);"undefined"!==typeof l.minColorValue&&(this.dataMin=Math.min(this.dataMin,l.minColorValue),this.dataMax=Math.max(this.dataMax,l.maxColorValue));m||e.prototype.applyExtremes.call(l)}};r.prototype.drawCrosshair=function(b,c){var g=c&&c.plotX,l=c&&c.plotY,e=this.pos,v=
this.len;if(c){var t=this.toPixels(c.getNestedProperty(c.series.colorKey));t<e?t=e-2:t>e+v&&(t=e+v+2);c.plotX=t;c.plotY=this.len-t;d.prototype.drawCrosshair.call(this,b,c);c.plotX=g;c.plotY=l;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};r.prototype.getPlotLinePath=function(c){var e=
this.left,g=c.translatedValue,l=this.top;return b(g)?this.horiz?[["M",g-4,l-6],["L",g+4,l-6],["L",g,l],["Z"]]:[["M",e,g],["L",e-6,g+6],["L",e-6,g-6],["Z"]]:d.prototype.getPlotLinePath.call(this,c)};r.prototype.update=function(b,c){var g=this.chart.legend;this.series.forEach(function(b){b.isDirtyData=!0});(b.dataClasses&&g.allItems||this.dataClasses)&&this.destroyItems();d.prototype.update.call(this,b,c);this.legendItem&&(this.setLegendColor(),g.colorizeItem(this,!0))};r.prototype.destroyItems=function(){var b=
this.chart;this.legendItem?b.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(c){b.legend.destroyItem(c)});b.isDirtyLegend=!0};r.prototype.destroy=function(){this.chart.isDirtyLegend=!0;this.destroyItems();d.prototype.destroy.apply(this,[].slice.call(arguments))};r.prototype.remove=function(b){this.destroyItems();d.prototype.remove.call(this,b)};r.prototype.getDataClassLegendSymbols=function(){var b=this,e=b.chart,g=b.legendItems,l=e.options.legend,t=l.valueDecimals,r=
l.valueSuffix||"",m;g.length||b.dataClasses.forEach(function(l,v){var x=l.from,C=l.to,K=e.numberFormatter,d=!0;m="";"undefined"===typeof x?m="< ":"undefined"===typeof C&&(m="> ");"undefined"!==typeof x&&(m+=K(x,t)+r);"undefined"!==typeof x&&"undefined"!==typeof C&&(m+=" - ");"undefined"!==typeof C&&(m+=K(C,t)+r);g.push(c({chart:e,name:m,options:{},drawLegendSymbol:f.drawRectangle,visible:!0,setState:z,isDataClass:!0,setVisible:function(){d=b.visible=!d;b.series.forEach(function(b){b.points.forEach(function(b){b.dataClass===
v&&b.setVisible(d)})});e.legend.colorizeItem(this,d)}},l))});return g};r.defaultColorAxisOptions=k;r.defaultLegendLength=200;r.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return r}(a);Array.prototype.push.apply(a.keepProps,h.keepProps);"";return h});w(a,"Maps/MapNavigationOptionsDefault.js",[a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(a,h){h=h.extend;var q={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,
height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};h(a.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return a.defaultOptions.mapNavigation=q});w(a,"Maps/MapNavigation.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,h,q){function k(c){c&&
(c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation(),c.cancelBubble=!0)}function n(c){this.navButtons=[];this.init(c)}var f=h.doc,d=q.addEvent,u=q.extend,p=q.isNumber,m=q.merge,z=q.objectEach,e=q.pick;n.prototype.init=function(c){this.chart=c};n.prototype.update=function(c){var b=this,t=this.chart,p=t.options.mapNavigation,f,r=function(b){this.handler.call(t,b);k(b)},y=b.navButtons;c&&(p=t.options.mapNavigation=m(t.options.mapNavigation,c));for(;y.length;)y.pop().destroy();
e(p.enableButtons,p.enabled)&&!t.renderer.forExport&&(b.navButtonsGroup||(b.navButtonsGroup=t.renderer.g().attr({zIndex:4}).add()),z(p.buttons,function(c,g){c=m(p.buttonOptions,c);!t.styledMode&&c.theme&&(f=c.theme,f.style=m(c.theme.style,c.style));var l=t.renderer.button(c.text||"",0,0,r,f,void 0,void 0,void 0,"zoomIn"===g?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[g]).attr({width:c.width,height:c.height,title:t.options.lang[g],
padding:c.padding,zIndex:5}).add(b.navButtonsGroup);l.handler=c.onclick;d(l.element,"dblclick",k);y.push(l);u(c,{width:l.width,height:2*l.height});if(t.hasLoaded)l.align(c,!1,c.alignTo);else var e=d(t,"load",function(){l.element&&l.align(c,!1,c.alignTo);e()})}),c=function(){var c=t.exportingGroup&&t.exportingGroup.getBBox();if(c){var g=b.navButtonsGroup.getBBox();if(!(g.x>=c.x+c.width||g.x+g.width<=c.x||g.y>=c.y+c.height||g.y+g.height<=c.y)){var l=-g.y-g.height+c.y-5;c=c.y+c.height-g.y+5;b.navButtonsGroup.attr({translateY:"bottom"===
(p.buttonOptions&&p.buttonOptions.verticalAlign)?l:c})}}},t.hasLoaded||d(t,"render",c));this.updateEvents(p)};n.prototype.updateEvents=function(c){var b=this.chart;e(c.enableDoubleClickZoom,c.enabled)||c.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||d(b.container,"dblclick",function(c){b.pointer.onContainerDblClick(c)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());e(c.enableMouseWheelZoom,c.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||d(b.container,
void 0!==f.onwheel?"wheel":void 0!==f.onmousewheel?"mousewheel":"DOMMouseScroll",function(c){b.pointer.inClass(c.target,"highcharts-no-mousewheel")||(b.pointer.onContainerMouseWheel(c),k(c));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};u(a.prototype,{fitToBox:function(c,b){[["x","width"],["y","height"]].forEach(function(e){var t=e[0];e=e[1];c[t]+c[e]>b[t]+b[e]&&(c[e]>b[e]?(c[e]=b[e],c[t]=b[t]):c[t]=b[t]+b[e]-c[e]);c[e]>b[e]&&(c[e]=b[e]);c[t]<b[t]&&(c[t]=b[t])});
return c},mapZoom:function(c,b,e,m,d){this.mapView&&(p(c)&&(c=Math.log(c)/Math.log(.5)),this.mapView.zoomBy(c,p(b)&&p(e)?this.mapView.projection.inverse([b,e]):void 0,p(m)&&p(d)?[m,d]:void 0))}});d(a,"beforeRender",function(){this.mapNavigation=new n(this);this.mapNavigation.update()});h.MapNavigation=n});w(a,"Maps/MapPointer.js",[a["Core/Pointer.js"],a["Core/Utilities.js"]],function(a,h){var q=h.defined,k=h.extend,n=h.pick;h=h.wrap;var f=a.prototype.normalize,d=0,u;k(a.prototype,{normalize:function(d,
m){var p=this.chart;d=f.call(this,d,m);p&&p.mapView&&(m=p.mapView.pixelsToLonLat({x:d.chartX-p.plotLeft,y:d.chartY-p.plotTop}))&&k(d,m);return d},onContainerDblClick:function(d){var m=this.chart;d=this.normalize(d);m.options.mapNavigation.enableDoubleClickZoomTo?m.pointer.inClass(d.target,"highcharts-tracker")&&m.hoverPoint&&m.hoverPoint.zoomTo():m.isInsidePlot(d.chartX-m.plotLeft,d.chartY-m.plotTop)&&m.mapZoom(.5,void 0,void 0,d.chartX,d.chartY)},onContainerMouseWheel:function(p){var m=this.chart;
p=this.normalize(p);var f=q(p.wheelDelta)&&-p.wheelDelta/120||p.deltaY||p.detail;1<=Math.abs(f)&&(d+=Math.abs(f),u&&clearTimeout(u),u=setTimeout(function(){d=0},50));10>d&&m.isInsidePlot(p.chartX-m.plotLeft,p.chartY-m.plotTop)&&m.mapView&&m.mapView.zoomBy((m.options.mapNavigation.mouseWheelSensitivity-1)*-f,void 0,[p.chartX,p.chartY],1>Math.abs(f)?!1:void 0)}});h(a.prototype,"zoomOption",function(d){var m=this.chart.options.mapNavigation;n(m.enableTouchZoom,m.enabled)&&(this.chart.options.chart.pinchType=
"xy");d.apply(this,[].slice.call(arguments,1))});h(a.prototype,"pinchTranslate",function(d,m,f,e,c,b,t){d.call(this,m,f,e,c,b,t);"map"===this.chart.options.chart.type&&this.hasZoom&&(d=e.scaleX>e.scaleY,this.pinchTranslateDirection(!d,m,f,e,c,b,t,d?e.scaleX:e.scaleY))})});w(a,"Series/ColorMapMixin.js",[a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,h,q){var k=a.noop;a=a.seriesTypes;var n=q.defined;q=q.addEvent;q(h,"afterSetState",function(f){this.moveToTopOnHover&&
this.graphic&&this.graphic.attr({zIndex:f&&"hover"===f.state?1:0})});return{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:k,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:a.column.prototype.pointAttribs,colorAttribs:function(f){var d={};!n(f.color)||
f.state&&"normal"!==f.state||(d[this.colorProp||"fill"]=f.color);return d}}}});w(a,"Maps/MapSymbols.js",[a["Core/Renderer/SVG/SVGRenderer.js"]],function(a){function h(a,k,n,f,d,u,p,m){return[["M",a+d,k],["L",a+n-u,k],["C",a+n-u/2,k,a+n,k+u/2,a+n,k+u],["L",a+n,k+f-p],["C",a+n,k+f-p/2,a+n-p/2,k+f,a+n-p,k+f],["L",a+m,k+f],["C",a+m/2,k+f,a,k+f-m/2,a,k+f-m],["L",a,k+d],["C",a,k+d/2,a+d/2,k,a+d,k],["Z"]]}a=a.prototype.symbols;a.bottombutton=function(a,k,n,f,d){d=d&&d.r||0;return h(a-1,k-1,n,f,0,0,d,d)};
a.topbutton=function(a,k,n,f,d){d=d&&d.r||0;return h(a-1,k-1,n,f,d,d,0,0)};return a});w(a,"Core/Chart/MapChart.js",[a["Core/Chart/Chart.js"],a["Core/DefaultOptions.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,h,q,k){var n=this&&this.__extends||function(){var d=function(a,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var b in c)c.hasOwnProperty(b)&&(e[b]=c[b])};return d(a,f)};return function(a,f){function e(){this.constructor=
a}d(a,f);a.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}(),f=h.getOptions,d=k.merge,u=k.pick;a=function(a){function m(){return null!==a&&a.apply(this,arguments)||this}n(m,a);m.prototype.init=function(m,e){var c=f().credits;m=d({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:u(c.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:u(c.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},m);a.prototype.init.call(this,
m,e)};return m}(a);(function(d){d.maps={};d.mapChart=function(a,f,e){return new d(a,f,e)};d.splitPath=function(d){"string"===typeof d&&(d=d.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),d=d.split(/[ ,;]+/).map(function(d){return/[A-za-z]/.test(d)?d:parseFloat(d)}));return q.prototype.pathToSegments(d)}})(a||(a={}));return a});w(a,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(a){var h=-Number.MAX_VALUE,q=Number.MAX_VALUE,k=-Number.MAX_VALUE,n=Number.MAX_VALUE,
f;a.forEach(function(d){var a=d[d.length-2];d=d[d.length-1];"number"===typeof a&&"number"===typeof d&&(q=Math.min(q,a),h=Math.max(h,a),n=Math.min(n,d),k=Math.max(k,d),f=!0)});if(f)return{x1:q,y1:n,x2:h,y2:k}},pointInPolygon:function(a,h){var q,k=!1,n=a.x,f=a.y;a=0;for(q=h.length-1;a<h.length;q=a++){var d=h[a][1]>f;var u=h[q][1]>f;d!==u&&n<(h[q][0]-h[a][0])*(f-h[a][1])/(h[q][1]-h[a][1])+h[a][0]&&(k=!k)}return k}}});w(a,"Series/Map/MapPoint.js",[a["Series/ColorMapMixin.js"],a["Maps/MapUtilities.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,q,k){var n=this&&this.__extends||function(){var a=function(d,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var e in b)b.hasOwnProperty(e)&&(c[e]=b[e])};return a(d,e)};return function(d,e){function c(){this.constructor=d}a(d,e);d.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}(),f=h.boundsFromPath,d=k.extend,u=k.isNumber,p=k.pick;h=function(a){function m(){var e=
null!==a&&a.apply(this,arguments)||this;e.options=void 0;e.path=void 0;e.series=void 0;return e}n(m,a);m.getProjectedPath=function(e,c){e.projectedPath||(c&&e.geometry?(c.hasCoordinates=!0,e.projectedPath=c.path(e.geometry)):e.projectedPath=e.path);return e.projectedPath||[]};m.prototype.applyOptions=function(e,c){var b=this.series;e=a.prototype.applyOptions.call(this,e,c);c=b.joinBy;b.mapData&&b.mapMap&&(c=a.prototype.getNestedProperty.call(e,c[1]),(b="undefined"!==typeof c&&b.mapMap[c])?d(e,b):
e.value=e.value||null);return e};m.prototype.getProjectedBounds=function(e){e=m.getProjectedPath(this,e);e=f(e);var c=this.properties;if(e){var b=c&&c["hc-middle-x"];c=c&&c["hc-middle-y"];e.midX=e.x1+(e.x2-e.x1)*p(this.middleX,u(b)?b:.5);b=p(this.middleY,u(c)?c:.5);this.geometry||(b=1-b);e.midY=e.y2-(e.y2-e.y1)*b;return e}};m.prototype.onMouseOver=function(e){k.clearTimeout(this.colorInterval);if(null!==this.value||this.series.options.nullInteraction)a.prototype.onMouseOver.call(this,e);else this.series.onMouseOut(e)};
m.prototype.zoomTo=function(){var e=this.series.chart;e.mapView&&this.bounds&&(e.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,e.redraw())};return m}(q.seriesTypes.scatter.prototype.pointClass);d(h.prototype,{dataLabelOnNull:a.PointMixin.dataLabelOnNull,isValid:a.PointMixin.isValid,moveToTopOnHover:a.PointMixin.moveToTopOnHover});return h});w(a,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},
zoom:void 0}});w(a,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});w(a,"Extensions/GeoJSON.js",[a["Core/Chart/Chart.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Maps/MapUtilities.js"],a["Core/Utilities.js"]],function(a,h,q,k,n){function f(c,b){b||(b=Object.keys(c.objects)[0]);b=c.objects[b];if(b["hc-decoded-geojson"])return b["hc-decoded-geojson"];var e=c.arcs;if(c.transform){var a=
c.transform,d=a.scale,r=a.translate;e=c.arcs.map(function(b){var c=0,l=0;return b.map(function(b){b=b.slice();b[0]=(c+=b[0])*d[0]+r[0];b[1]=(l+=b[1])*d[1]+r[1];return b})})}var f=function(b){return"number"===typeof b[0]?b.reduce(function(b,c,a){var g=0>c?e[~c]:e[c];0>c?(g=g.slice(0,0===a?g.length:g.length-1),g.reverse()):a&&(g=g.slice(1));return b.concat(g)},[]):b.map(f)};a=b.geometries.map(function(b){return{type:"Feature",properties:b.properties,geometry:{type:b.type,coordinates:b.coordinates||
f(b.arcs)}}});c={type:"FeatureCollection",copyright:c.copyright,copyrightShort:c.copyrightShort,copyrightUrl:c.copyrightUrl,features:a,"hc-recommended-mapview":b["hc-recommended-mapview"],bbox:c.bbox,title:c.title};return b["hc-decoded-geojson"]=c}function d(c,b,e){void 0===b&&(b="map");var a=[];c="Topology"===c.type?f(c):c;c.features.forEach(function(c){var e=c.geometry||{},d=e.type;e=e.coordinates;c=c.properties;var t;"map"!==b&&"mapbubble"!==b||"Polygon"!==d&&"MultiPolygon"!==d?"mapline"!==b||
"LineString"!==d&&"MultiLineString"!==d?"mappoint"===b&&"Point"===d&&e.length&&(t={geometry:{coordinates:e,type:d}}):e.length&&(t={geometry:{coordinates:e,type:d}}):e.length&&(t={geometry:{coordinates:e,type:d}});t&&(d=c&&(c.name||c.NAME),a.push(z(t,{name:"string"===typeof d?d:void 0,properties:c})))});e&&c.copyrightShort&&(e.chart.mapCredits=u(e.chart.options.credits.mapText,{geojson:c}),e.chart.mapCreditsFull=u(e.chart.options.credits.mapTextFull,{geojson:c}));return a}var u=h.format,p=q.win,m=
n.error,z=n.extend,e=n.merge;h=n.wrap;"";a.prototype.transformFromLatLon=function(c,b){var e=this.options.chart.proj4||p.proj4;if(e){var a=b.jsonmarginX;a=void 0===a?0:a;var d=b.jsonmarginY;d=void 0===d?0:d;var f=b.jsonres;f=void 0===f?1:f;var n=b.scale;n=void 0===n?1:n;var v=b.xoffset;v=void 0===v?0:v;var g=b.xpan;g=void 0===g?0:g;var l=b.yoffset;l=void 0===l?0:l;var k=b.ypan;k=void 0===k?0:k;c=e(b.crs,[c.lon,c.lat]);e=b.cosAngle||b.rotation&&Math.cos(b.rotation);var u=b.sinAngle||b.rotation&&Math.sin(b.rotation);
b=b.rotation?[c[0]*e+c[1]*u,-c[0]*u+c[1]*e]:c;return{x:((b[0]-v)*n+g)*f+a,y:-(((l-b[1])*n+k)*f-d)}}m(21,!1,this)};a.prototype.transformToLatLon=function(c,b){var e=this.options.chart.proj4||p.proj4;if(!e)m(21,!1,this);else if(null!==c.y){var a=b.jsonmarginX,d=b.jsonmarginY,f=b.jsonres;f=void 0===f?1:f;var n=b.scale;n=void 0===n?1:n;var v=b.xoffset,g=b.xpan,l=b.yoffset,k=b.ypan;c={x:((c.x-(void 0===a?0:a))/f-(void 0===g?0:g))/n+(void 0===v?0:v),y:((c.y-(void 0===d?0:d))/f+(void 0===k?0:k))/n+(void 0===
l?0:l)};a=b.cosAngle||b.rotation&&Math.cos(b.rotation);d=b.sinAngle||b.rotation&&Math.sin(b.rotation);b=e(b.crs,"WGS84",b.rotation?{x:c.x*a+c.y*-d,y:c.x*d+c.y*a}:c);return{lat:b.y,lon:b.x}}};a.prototype.fromPointToLatLon=function(c){return this.mapView&&this.mapView.projectedUnitsToLonLat(c)};a.prototype.fromLatLonToPoint=function(c){return this.mapView&&this.mapView.lonLatToProjectedUnits(c)};h(a.prototype,"addCredits",function(c,b){b=e(!0,this.options.credits,b);this.mapCredits&&(b.href=null);c.call(this,
b);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});q.geojson=d;return{geojson:d,topo2geo:f}});w(a,"Core/Geometry/PolygonClip.js",[],function(){var a=function(a,n,f){return(n[0]-a[0])*(f[1]-a[1])>(n[1]-a[1])*(f[0]-a[0])},h=function(a,n,f,d){var k=[a[0]-n[0],a[1]-n[1]],p=[f[0]-d[0],f[1]-d[1]];a=a[0]*n[1]-a[1]*n[0];f=f[0]*d[1]-f[1]*d[0];d=1/(k[0]*p[1]-k[1]*p[0]);k=[(a*p[0]-f*k[0])*d,(a*p[1]-f*k[1])*d];k.isIntersection=!0;return k},q;(function(k){k.clipLineString=function(a,
f){var d=[];a=k.clipPolygon(a,f,!1);for(f=1;f<a.length;f++)a[f].isIntersection&&a[f-1].isIntersection&&(d.push(a.splice(0,f)),f=0),f===a.length-1&&d.push(a);return d};k.clipPolygon=function(n,f,d){void 0===d&&(d=!0);for(var k=f[f.length-1],p,m,q=n,e=0;e<f.length;e++){var c=q;n=f[e];q=[];p=d?c[c.length-1]:c[0];for(var b=0;b<c.length;b++)m=c[b],a(k,n,m)?(a(k,n,p)||q.push(h(k,n,p,m)),q.push(m)):a(k,n,p)&&q.push(h(k,n,p,m)),p=m;k=n}return q}})(q||(q={}));return q});w(a,"Maps/Projections/LambertConformalConic.js",
[],function(){var a=Math.sign||function(a){return 0===a?0:0<a?1:-1},h=Math.PI/180,q=Math.PI/2;return function(){function k(n){var f,d=(n.parallels||[]).map(function(a){return a*h}),k=d[0]||0;d=null!==(f=d[1])&&void 0!==f?f:k;f=Math.cos(k);"object"===typeof n.projectedBounds&&(this.projectedBounds=n.projectedBounds);n=k===d?Math.sin(k):Math.log(f/Math.cos(d))/Math.log(Math.tan((q+d)/2)/Math.tan((q+k)/2));1e-10>Math.abs(n)&&(n=1e-10*(a(n)||1));this.n=n;this.c=f*Math.pow(Math.tan((q+k)/2),n)/n}k.prototype.forward=
function(a){var f=a[0]*h,d=this.c,k=this.n,p=this.projectedBounds;a=a[1]*h;0<d?a<-q+.000001&&(a=-q+.000001):a>q-.000001&&(a=q-.000001);var m=d/Math.pow(Math.tan((q+a)/2),k);a=m*Math.sin(k*f)*63.78137;f=63.78137*(d-m*Math.cos(k*f));d=[a,f];p&&(a<p.x1||a>p.x2||f<p.y1||f>p.y2)&&(d.outside=!0);return d};k.prototype.inverse=function(k){var f=k[0]/63.78137,d=this.c,n=this.n;k=d-k[1]/63.78137;var p=a(n)*Math.sqrt(f*f+k*k),m=Math.atan2(f,Math.abs(k))*a(k);0>k*n&&(m-=Math.PI*a(f)*a(k));return[m/n/h,(2*Math.atan(Math.pow(d/
p,1/n))-q)/h]};return k}()});w(a,"Maps/Projections/EqualEarth.js",[],function(){var a=Math.sqrt(3)/2;return function(){function h(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}h.prototype.forward=function(q){var k=Math.PI/180,n=Math.asin(a*Math.sin(q[1]*k)),f=n*n,d=f*f*f;return[q[0]*k*Math.cos(n)*74.03120656864502/(a*(1.340264+3*-.081106*f+d*(7*.000893+.034164*f))),74.03120656864502*n*(1.340264+-.081106*f+d*(.000893+.003796*f))]};h.prototype.inverse=
function(q){var k=q[0]/74.03120656864502;q=q[1]/74.03120656864502;var n=180/Math.PI,f=q,d;for(d=0;12>d;++d){var h=f*f;var p=h*h*h;var m=f*(1.340264+-.081106*h+p*(.000893+.003796*h))-q;h=1.340264+3*-.081106*h+p*(7*.000893+.034164*h);f-=m/=h;if(1e-9>Math.abs(m))break}h=f*f;return[n*a*k*(1.340264+3*-.081106*h+h*h*h*(7*.000893+.034164*h))/Math.cos(f),n*Math.asin(Math.sin(f)/a)]};return h}()});w(a,"Maps/Projections/Miller.js",[],function(){var a=Math.PI/4,h=Math.PI/180;return function(){function q(){this.bounds=
{x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}q.prototype.forward=function(k){return[k[0]*h*63.78137,79.7267125*Math.log(Math.tan(a+.4*k[1]*h))]};q.prototype.inverse=function(k){return[k[0]/63.78137/h,2.5*(Math.atan(Math.exp(k[1]/63.78137*.8))-a)/h]};return q}()});w(a,"Maps/Projections/Orthographic.js",[],function(){var a=Math.PI/180;return function(){function h(){this.antimeridianCutting=!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,
y2:63.78460826781007}}h.prototype.forward=function(h){var k=h[0];h=h[1]*a;h=[Math.cos(h)*Math.sin(k*a)*63.78460826781007,63.78460826781007*Math.sin(h)];if(-90>k||90<k)h.outside=!0;return h};h.prototype.inverse=function(h){var k=h[0]/63.78460826781007;h=h[1]/63.78460826781007;var n=Math.sqrt(k*k+h*h),f=Math.asin(n),d=Math.sin(f);return[Math.atan2(k*d,n*Math.cos(f))/a,Math.asin(n&&h*d/n)/a]};return h}()});w(a,"Maps/Projections/WebMercator.js",[],function(){var a=Math.PI/180;return function(){function h(){this.bounds=
{x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=85.0511287798}h.prototype.forward=function(h){var k=Math.sin(h[1]*a);k=[63.78137*h[0]*a,63.78137*Math.log((1+k)/(1-k))/2];85.0511287798<Math.abs(h[1])&&(k.outside=!0);return k};h.prototype.inverse=function(h){return[h[0]/(63.78137*a),(2*Math.atan(Math.exp(h[1]/63.78137))-Math.PI/2)/a]};return h}()});w(a,"Maps/Projections/ProjectionRegistry.js",[a["Maps/Projections/LambertConformalConic.js"],
a["Maps/Projections/EqualEarth.js"],a["Maps/Projections/Miller.js"],a["Maps/Projections/Orthographic.js"],a["Maps/Projections/WebMercator.js"]],function(a,h,q,k,n){return{EqualEarth:h,LambertConformalConic:a,Miller:q,Orthographic:k,WebMercator:n}});w(a,"Maps/Projection.js",[a["Core/Geometry/PolygonClip.js"],a["Maps/Projections/ProjectionRegistry.js"],a["Core/Utilities.js"]],function(a,h,q){var k=this&&this.__spreadArrays||function(){for(var a=0,e=0,c=arguments.length;e<c;e++)a+=arguments[e].length;
a=Array(a);var b=0;for(e=0;e<c;e++)for(var d=arguments[e],f=0,m=d.length;f<m;f++,b++)a[b]=d[f];return a},n=a.clipLineString,f=a.clipPolygon,d=q.clamp,u=q.erase,p=2*Math.PI/360,m=function(a){-180>a&&(a+=360);180<a&&(a-=360);return a};return function(){function a(e){void 0===e&&(e={});this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=e;var c=e.name,b=e.projectedBounds,d=e.rotation;this.rotator=d?this.getRotator(d):void 0;if(c=c?a.registry[c]:void 0)this.def=new c(e);var f=
this.def,m=this.rotator;f&&(this.maxLatitude=f.maxLatitude||90,this.hasGeoProjection=!0);m&&f?(this.forward=function(b){return f.forward(m.forward(b))},this.inverse=function(b){return m.inverse(f.inverse(b))}):f?(this.forward=function(b){return f.forward(b)},this.inverse=function(b){return f.inverse(b)}):m&&(this.forward=m.forward,this.inverse=m.inverse);this.bounds="world"===b?f&&f.bounds:b}a.add=function(e,c){a.registry[e]=c};a.greatCircle=function(a,c,b){var e=Math.atan2,d=Math.cos,f=Math.sin,
m=Math.sqrt,k=a[1]*p,v=a[0]*p,g=c[1]*p,l=c[0]*p,h=g-k,n=l-v;h=f(h/2)*f(h/2)+d(k)*d(g)*f(n/2)*f(n/2);h=2*e(m(h),m(1-h));var q=Math.round(6371E3*h/5E5);n=[];b&&n.push(a);if(1<q)for(q=a=1/q;.999>q;q+=a){var u=f((1-q)*h)/f(h),F=f(q*h)/f(h),x=u*d(k)*d(v)+F*d(g)*d(l),C=u*d(k)*f(v)+F*d(g)*f(l);u=u*f(k)+F*f(g);u=e(u,m(x*x+C*C));x=e(C,x);n.push([x/p,u/p])}b&&n.push(c);return n};a.insertGreatCircles=function(e){for(var c=e.length-1;c--;)if(10<Math.max(Math.abs(e[c][0]-e[c+1][0]),Math.abs(e[c][1]-e[c+1][1]))){var b=
a.greatCircle(e[c],e[c+1]);b.length&&e.splice.apply(e,k([c+1,0],b))}};a.toString=function(a){a=a||{};var c=a.rotation;return[a.name,c&&c.join(",")].join(";")};a.prototype.lineIntersectsBounds=function(a){var c=this.bounds||{},b=c.x2,e=c.y1,d=c.y2,f=function(b,a,c){var g=b[0];b=b[1];var e=a?0:1;if("number"===typeof c&&g[a]>=c!==b[a]>=c)return g=g[e]+(c-g[a])/(b[a]-g[a])*(b[e]-g[e]),a?[g,c]:[c,g]},m=a[0];if(c=f(a,0,c.x1))m=c,a[1]=c;else if(c=f(a,0,b))m=c,a[1]=c;if(c=f(a,1,e))m=c;else if(c=f(a,1,d))m=
c;return m};a.prototype.getRotator=function(a){var c=a[0]*p,b=(a[1]||0)*p;a=(a[2]||0)*p;var e=Math.cos(b),d=Math.sin(b),f=Math.cos(a),m=Math.sin(a);if(0!==c||0!==b||0!==a)return{forward:function(b){var a=b[0]*p+c,g=b[1]*p,l=Math.cos(g);b=Math.cos(a)*l;a=Math.sin(a)*l;g=Math.sin(g);l=g*e+b*d;return[Math.atan2(a*f-l*m,b*e-g*d)/p,Math.asin(l*f+a*m)/p]},inverse:function(b){var a=b[0]*p,g=b[1]*p,l=Math.cos(g);b=Math.cos(a)*l;a=Math.sin(a)*l;g=Math.sin(g);l=g*f-a*m;return[(Math.atan2(a*f+g*m,b*e+l*d)-c)/
p,Math.asin(l*e-b*d)/p]}}};a.prototype.forward=function(a){return a};a.prototype.inverse=function(a){return a};a.prototype.cutOnAntimeridian=function(e,c){var b=[],f=[e];e.forEach(function(a,g){var l=e[g-1];if(!g){if(!c)return;l=e[e.length-1]}var f=l[0],x=a[0];(-90>f||90<f)&&(-90>x||90<x)&&0<f!==0<x&&(x=d((180-(f+360)%360)/((x+360)%360-(f+360)%360),0,1),b.push({i:g,lat:l[1]+x*(a[1]-l[1]),direction:0>f?1:-1,previousLonLat:l,lonLat:a}))});if(b.length)if(c){if(1===b.length%2){var h=b.slice().sort(function(b,
a){return Math.abs(a.lat)-Math.abs(b.lat)})[0];u(b,h)}for(var n=b.length-2;0<=n;){var r=b[n].i,p=m(180+.000001*b[n].direction),v=m(180-.000001*b[n].direction);r=e.splice.apply(e,k([r,b[n+1].i-r],a.greatCircle([p,b[n].lat],[p,b[n+1].lat],!0)));r.push.apply(r,a.greatCircle([v,b[n+1].lat],[v,b[n].lat],!0));f.push(r);n-=2}if(h)for(p=0;p<f.length;p++){n=h.direction;var g=h.lat;v=f[p];r=v.indexOf(h.lonLat);if(-1<r){p=(0>g?-1:1)*this.maxLatitude;var l=m(180+.000001*n),q=m(180-.000001*n);g=a.greatCircle([l,
g],[l,p],!0);for(l+=120*n;-180<l&&180>l;l+=120*n)g.push([l,p]);g.push.apply(g,a.greatCircle([q,p],[q,h.lat],!0));v.splice.apply(v,k([r,0],g));break}}}else for(n=b.length;n--;)r=b[n].i,r=e.splice(r,e.length,[m(180+.000001*b[n].direction),b[n].lat]),r.unshift([m(180-.000001*b[n].direction),b[n].lat]),f.push(r);return f};a.prototype.path=function(e){var c=this,b=this.bounds,d=this.def,m=this.rotator,k=[],h="Polygon"===e.type||"MultiPolygon"===e.type,p=this.hasGeoProjection,v=!d||!1!==d.antimeridianCutting,
g=v?m:void 0,l=v?d||this:this,q;b&&(q=[[b.x1,b.y1],[b.x2,b.y1],[b.x2,b.y2],[b.x1,b.y2]]);var u=function(d){d=d.map(function(b){if(v){g&&(b=g.forward(b));var a=b[0];.000001>Math.abs(a-180)&&(a=180>a?179.999999:180.000001);b=[a,b[1]]}return b});var e=[d];p&&(a.insertGreatCircles(d),v&&(e=c.cutOnAntimeridian(d,h)));e.forEach(function(c){if(!(2>c.length)){var g=!1,d=!1,e=function(b){g?k.push(["L",b[0],b[1]]):(k.push(["M",b[0],b[1]]),g=!0)},m=!1,t=!1,r=c.map(function(b){b=l.forward(b);b.outside?m=!0:t=
!0;Infinity===b[1]?b[1]=1E10:-Infinity===b[1]&&(b[1]=-1E10);return b});if(v){h&&r.push(r[0]);if(m){if(!t)return;if(q)if(h)r=f(r,q);else if(b){n(r,q).forEach(function(b){g=!1;b.forEach(e)});return}}r.forEach(e)}else for(var J=0;J<r.length;J++){var u=c[J],y=r[J];if(y.outside)d=!0;else{if(h&&!F){var F=u;c.push(u);r.push(y)}d&&A&&(h&&p?a.greatCircle(A,u).forEach(function(b){return e(l.forward(b))}):g=!1);e(y);var A=u;d=!1}}}})};"LineString"===e.type?u(e.coordinates):"MultiLineString"===e.type?e.coordinates.forEach(function(b){return u(b)}):
"Polygon"===e.type?(e.coordinates.forEach(function(b){return u(b)}),k.length&&k.push(["Z"])):"MultiPolygon"===e.type&&(e.coordinates.forEach(function(b){b.forEach(function(b){return u(b)})}),k.length&&k.push(["Z"]));return k};a.registry=h;return a}()});w(a,"Maps/MapView.js",[a["Maps/MapViewOptionsDefault.js"],a["Maps/MapViewInsetsOptionsDefault.js"],a["Extensions/GeoJSON.js"],a["Core/Chart/MapChart.js"],a["Maps/MapUtilities.js"],a["Maps/Projection.js"],a["Core/Utilities.js"]],function(a,h,q,k,n,f,
d){var u=this&&this.__extends||function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(a,c)};return function(a,c){function g(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(g.prototype=c.prototype,new g)}}(),p=this&&this.__spreadArrays||function(){for(var b=0,a=0,c=arguments.length;a<c;a++)b+=arguments[a].length;b=Array(b);var g=0;for(a=0;a<c;a++)for(var d=
arguments[a],e=0,l=d.length;e<l;e++,g++)b[g]=d[e];return b},m=q.topo2geo,z=k.maps,e=n.boundsFromPath,c=n.pointInPolygon,b=d.addEvent,t=d.clamp,B=d.fireEvent,E=d.isArray,r=d.isNumber,y=d.isObject,v=d.isString,g=d.merge,l=d.pick,A=d.relativeLength,I=function(b,a){return Math.log(400.979322/Math.max((b.x2-b.x1)/(a.width/256),(b.y2-b.y1)/(a.height/256)))/Math.log(2)},G=function(){function d(c,e){var l=this;this.insets=[];this.padding=[0,0,0,0];this.eventsToUnbind=[];var x;if(!(this instanceof H)){var m=
p([c.options.chart.map],(c.options.series||[]).map(function(b){return b.mapData})).map(function(b){return l.getGeoMap(b)}),k=[];m.forEach(function(b){b&&(x||(x=b["hc-recommended-mapview"]),b.bbox&&(b=b.bbox,k.push({x1:b[0],y1:b[1],x2:b[2],y2:b[3]})))});var h=k.length&&d.compositeBounds(k);if(h){var C=h.x1;var n=h.y1,t=h.x2;h=h.y2;C=180<t-C&&90<h-n?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[n,h],rotation:[-(C+t)/2]}}this.geoMap=m[0]}this.userOptions=e||{};m=g(a,{projection:C},x,e);
h=x&&x.insets;e=e&&e.insets;h&&e&&(m.insets=d.mergeInsets(h,e));this.chart=c;this.center=m.center;this.options=m;this.projection=new f(m.projection);this.playingField=c.plotBox;this.zoom=m.zoom||0;this.createInsets();this.eventsToUnbind.push(b(c,"afterSetChartSize",function(){l.playingField=l.getField();if(void 0===l.minZoom||l.minZoom===l.zoom)l.fitToBounds(void 0,void 0,!1),!l.chart.hasRendered&&r(l.userOptions.zoom)&&(l.zoom=l.userOptions.zoom),l.userOptions.center&&g(!0,l.center,l.userOptions.center)}));
this.setUpEvents()}d.mergeInsets=function(b,a){var c=function(b){var a={};b.forEach(function(b,c){a[b&&b.id||"i"+c]=b});return a},d=g(c(b),c(a));return Object.keys(d).map(function(b){return d[b]})};d.prototype.createInsets=function(){var b=this,a=this.options,c=a.insets;c&&c.forEach(function(c){c=new H(b,g(a.insetOptions,c));b.insets.push(c)})};d.prototype.fitToBounds=function(b,a,c,g){void 0===c&&(c=!0);var d=b||this.getProjectedBounds();if(d){var e=l(a,b?0:this.options.padding);a=this.getField(!1);
e=E(e)?e:[e,e,e,e];this.padding=[A(e[0],a.height),A(e[1],a.width),A(e[2],a.height),A(e[3],a.width)];this.playingField=this.getField();a=I(d,this.playingField);b||(this.minZoom=a);b=this.projection.inverse([(d.x2+d.x1)/2,(d.y2+d.y1)/2]);this.setView(b,a,c,g)}};d.prototype.getField=function(b){void 0===b&&(b=!0);b=b?this.padding:[0,0,0,0];return{x:b[3],y:b[0],width:this.chart.plotWidth-b[1]-b[3],height:this.chart.plotHeight-b[0]-b[2]}};d.prototype.getGeoMap=function(b){if(v(b))return z[b];if(y(b,!0)){if("FeatureCollection"===
b.type)return b;if("Topology"===b.type)return m(b)}};d.prototype.getMapBBox=function(){var b=this.getProjectedBounds(),a=this.getScale();if(b){var c=this.padding,g=this.projectedUnitsToPixels({x:b.x1,y:b.y2});return{width:(b.x2-b.x1)*a+c[1]+c[3],height:(b.y2-b.y1)*a+c[0]+c[2],x:g.x-c[3],y:g.y-c[0]}}};d.prototype.getProjectedBounds=function(){var b=this.chart.series.reduce(function(b,a){var c=a.getProjectedBounds&&a.getProjectedBounds();c&&!1!==a.options.affectsMapView&&b.push(c);return b},[]);return this.projection.bounds||
d.compositeBounds(b)};d.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)};d.prototype.getSVGTransform=function(){var b=this.playingField,a=b.x,c=b.y,g=b.width;b=b.height;var d=this.projection.forward(this.center),e=this.projection.hasCoordinates?-1:1,l=this.getScale();e*=l;return{scaleX:l,scaleY:e,translateX:a+g/2-d[0]*l,translateY:c+b/2-d[1]*e}};d.prototype.lonLatToPixels=function(b){if(b=this.lonLatToProjectedUnits(b))return this.projectedUnitsToPixels(b)};d.prototype.lonLatToProjectedUnits=
function(b){var a=this.chart,g=a.mapTransforms;if(g){for(var d in g)if(Object.hasOwnProperty.call(g,d)&&g[d].hitZone){var e=a.transformFromLatLon(b,g[d]);if(e&&c(e,g[d].hitZone.coordinates[0]))return e}return a.transformFromLatLon(b,g["default"])}g=0;for(d=this.insets;g<d.length;g++)if(a=d[g],a.options.geoBounds&&c({x:b.lon,y:b.lat},a.options.geoBounds.coordinates[0]))return b=a.projection.forward([b.lon,b.lat]),b=a.projectedUnitsToPixels({x:b[0],y:b[1]}),this.pixelsToProjectedUnits(b);b=this.projection.forward([b.lon,
b.lat]);if(!b.outside)return{x:b[0],y:b[1]}};d.prototype.projectedUnitsToLonLat=function(b){var a=this.chart,g=a.mapTransforms;if(g){for(var d in g)if(Object.hasOwnProperty.call(g,d)&&g[d].hitZone&&c(b,g[d].hitZone.coordinates[0]))return a.transformToLatLon(b,g[d]);return a.transformToLatLon(b,g["default"])}g=this.projectedUnitsToPixels(b);d=0;for(var e=this.insets;d<e.length;d++)if(a=e[d],a.hitZone&&c(g,a.hitZone.coordinates[0]))return b=a.pixelsToProjectedUnits(g),b=a.projection.inverse([b.x,b.y]),
{lon:b[0],lat:b[1]};b=this.projection.inverse([b.x,b.y]);return{lon:b[0],lat:b[1]}};d.prototype.redraw=function(b){this.chart.series.forEach(function(b){b.useMapGeometry&&(b.isDirty=!0)});this.chart.redraw(b)};d.prototype.setView=function(b,a,c,g){void 0===c&&(c=!0);b&&(this.center=b);"number"===typeof a&&("number"===typeof this.minZoom&&(a=Math.max(a,this.minZoom)),"number"===typeof this.options.maxZoom&&(a=Math.min(a,this.options.maxZoom)),this.zoom=a);var d=this.getProjectedBounds();if(d){b=this.projection.forward(this.center);
var e=this.playingField;a=e.x;var l=e.y,f=e.width;e=e.height;var m=this.getScale(),h=this.projectedUnitsToPixels({x:d.x1,y:d.y1}),k=this.projectedUnitsToPixels({x:d.x2,y:d.y2});d=[(d.x1+d.x2)/2,(d.y1+d.y2)/2];var n=h.x,t=k.y;k=k.x;h=h.y;k-n<f?b[0]=d[0]:n<a&&k<a+f?b[0]+=Math.max(n-a,k-f-a)/m:k>a+f&&n>a&&(b[0]+=Math.min(k-f-a,n-a)/m);h-t<e?b[1]=d[1]:t<l&&h<l+e?b[1]-=Math.max(t-l,h-e-l)/m:h>l+e&&t>l&&(b[1]-=Math.min(h-e-l,t-l)/m);this.center=this.projection.inverse(b);this.insets.forEach(function(b){b.options.field&&
(b.hitZone=b.getHitZone(),b.playingField=b.getField())});this.render()}B(this,"afterSetView");c&&this.redraw(g)};d.prototype.projectedUnitsToPixels=function(b){var a=this.getScale(),c=this.projection.forward(this.center),g=this.playingField;return{x:g.x+g.width/2-a*(c[0]-b.x),y:g.y+g.height/2+a*(c[1]-b.y)}};d.prototype.pixelsToLonLat=function(b){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(b))};d.prototype.pixelsToProjectedUnits=function(b){var a=b.x;b=b.y;var c=this.getScale(),
g=this.projection.forward(this.center),d=this.playingField;return{x:g[0]+(a-(d.x+d.width/2))/c,y:g[1]-(b-(d.y+d.height/2))/c}};d.prototype.setUpEvents=function(){var a=this,c=this.chart,g,d,e,l=function(b){var l=c.pointer.pinchDown,f=a.projection,m=c.mouseDownX,h=c.mouseDownY;1===l.length&&(m=l[0].chartX,h=l[0].chartY);if("number"===typeof m&&"number"===typeof h){var k=m+","+h,n=b.originalEvent;l=n.chartX;n=n.chartY;k!==d&&(d=k,g=a.projection.forward(a.center),e=(a.projection.options.rotation||[0,
0]).slice());k=(k=f.def&&f.def.bounds)&&I(k,a.playingField)||-Infinity;"Orthographic"===f.options.name&&(a.minZoom||Infinity)<1.1*k?(f=440/(a.getScale()*Math.min(c.plotWidth,c.plotHeight)),e&&(m=(m-l)*f-e[0],h=t(-e[1]-(h-n)*f,-80,80),l=a.zoom,a.update({projection:{rotation:[-m,-h]}},!1),a.zoom=l,c.redraw(!1))):(f=a.getScale(),h=a.projection.inverse([g[0]+(m-l)/f,g[1]-(h-n)/f]),a.setView(h,void 0,!0,!1));b.preventDefault()}};b(c,"pan",l);b(c,"touchpan",l);b(c,"selection",function(b){if(b.resetSelection)a.zoomBy();
else{var g=b.x-c.plotLeft,d=b.y-c.plotTop,e=a.pixelsToProjectedUnits({x:g,y:d}),l=e.y;e=e.x;g=a.pixelsToProjectedUnits({x:g+b.width,y:d+b.height});a.fitToBounds({x1:e,y1:l,x2:g.x,y2:g.y},void 0,!0,b.originalEvent.touches?!1:void 0);/^touch/.test(b.originalEvent.type)||c.showResetZoom();b.preventDefault()}})};d.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())};d.prototype.update=function(b,a,c){void 0===a&&(a=!0);var d=b.projection;d=d&&
f.toString(d)!==f.toString(this.options.projection);var e=!1;g(!0,this.userOptions,b);g(!0,this.options,b);"insets"in b&&(this.insets.forEach(function(b){return b.destroy()}),this.insets.length=0,e=!0);if(d||e)this.chart.series.forEach(function(b){var a=b.transformGroups;b.clearBounds&&b.clearBounds();b.isDirty=!0;b.isDirtyData=!0;if(e&&a)for(;1<a.length;)(b=a.pop())&&b.destroy()}),d&&(this.projection=new f(this.options.projection)),e&&this.createInsets(),b.center||r(b.zoom)||this.fitToBounds(void 0,
void 0,!1);(b.center||r(b.zoom))&&this.setView(this.options.center,b.zoom,!1);a&&this.chart.redraw(c)};d.prototype.zoomBy=function(b,a,c,g){var d=this.chart,e=this.projection.forward(this.center);a=a?this.projection.forward(a):[];var l=a[0],f=a[1];"number"===typeof b?(b=this.zoom+b,a=void 0,c&&(l=c[0],f=c[1],c=this.getScale(),l=l-d.plotLeft-d.plotWidth/2,d=f-d.plotTop-d.plotHeight/2,l=e[0]+l/c,f=e[1]+d/c),"number"===typeof l&&"number"===typeof f&&(c=1-Math.pow(2,this.zoom)/Math.pow(2,b),l=e[0]-l,
d=e[1]-f,e[0]-=l*c,e[1]+=d*c,a=this.projection.inverse(e)),this.setView(a,b,void 0,g)):this.fitToBounds(void 0,void 0,void 0,g)};d.compositeBounds=function(b){if(b.length)return b.slice(1).reduce(function(b,a){b.x1=Math.min(b.x1,a.x1);b.y1=Math.min(b.y1,a.y1);b.x2=Math.max(b.x2,a.x2);b.y2=Math.max(b.y2,a.y2);return b},g(b[0]))};return d}(),H=function(b){function a(a,c){var d=b.call(this,a.chart,c)||this;d.id=c.id;d.mapView=a;d.options=g(h,c);d.allBounds=[];d.options.geoBounds&&(a=a.projection.path(d.options.geoBounds),
d.geoBoundsProjectedBox=e(a),d.geoBoundsProjectedPolygon=a.map(function(b){return[b[1]||0,b[2]||0]}));return d}u(a,b);a.prototype.getField=function(a){void 0===a&&(a=!0);var c=this.hitZone;if(c){var g=a?this.padding:[0,0,0,0];c=c.coordinates[0];var d=c.map(function(b){return b[0]}),e=c.map(function(b){return b[1]});c=Math.min.apply(0,d)+g[3];d=Math.max.apply(0,d)-g[1];var l=Math.min.apply(0,e)+g[0];g=Math.max.apply(0,e)-g[2];if(r(c)&&r(l))return{x:c,y:l,width:d-c,height:g-l}}return b.prototype.getField.call(this,
a)};a.prototype.getHitZone=function(){var b=this.chart,a=this.mapView,c=this.options,d=(c.field||{}).coordinates;if(d){d=d[0];if("percent"===c.units){var e="mapBoundingBox"===c.relativeTo&&a.getMapBBox()||g(b.plotBox,{x:0,y:0});d=d.map(function(b){return[A(b[0]+"%",e.width,e.x),A(b[1]+"%",e.height,e.y)]})}return{type:"Polygon",coordinates:[d]}}};a.prototype.getProjectedBounds=function(){return G.compositeBounds(this.allBounds)};a.prototype.isInside=function(b){var a=this.geoBoundsProjectedBox,g=this.geoBoundsProjectedPolygon;
return!!(a&&b.x>=a.x1&&b.x<=a.x2&&b.y>=a.y1&&b.y<=a.y2&&g&&c(b,g))};a.prototype.render=function(){var b=this.chart,a=this.mapView,c=this.options,g=c.borderPath||c.field;if(g&&a.group){var d=!0;this.border||(this.border=b.renderer.path().addClass("highcharts-mapview-inset-border").add(a.group),d=!1);b.styledMode||this.border.attr({stroke:c.borderColor,"stroke-width":c.borderWidth});var e=Math.round(this.border.strokeWidth())%2/2,l="mapBoundingBox"===c.relativeTo&&a.getMapBBox()||a.playingField;a=(g.coordinates||
[]).reduce(function(a,g){return g.reduce(function(a,g,d){var f=g[0];g=g[1];"percent"===c.units&&(f=b.plotLeft+A(f+"%",l.width,l.x),g=b.plotTop+A(g+"%",l.height,l.y));f=Math.floor(f)+e;g=Math.floor(g)+e;a.push(0===d?["M",f,g]:["L",f,g]);return a},a)},[]);this.border[d?"animate":"attr"]({d:a})}};a.prototype.destroy=function(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(function(b){return b()})};a.prototype.setUpEvents=function(){};return a}(G);b(k,"afterInit",function(){this.mapView=
new G(this,this.options.mapView)});return G});w(a,"Series/Map/MapSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Series/ColorMapMixin.js"],a["Series/CenteredUtilities.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Chart/MapChart.js"],a["Series/Map/MapPoint.js"],a["Maps/MapView.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,h,q,k,n,f,d,u,p,m,z,e){var c=this&&this.__extends||function(){var b=
function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return b(a,c)};return function(a,c){function g(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(g.prototype=c.prototype,new g)}}(),b=a.animObject;a=k.noop;var t=f.splitPath;f=m.seriesTypes;var B=f.column,E=f.scatter;f=e.extend;var r=e.find,y=e.fireEvent,v=e.getNestedProperty,g=e.isArray,l=e.isNumber,A=e.isObject,I=e.merge,
G=e.objectEach,H=e.pick,F=e.splat;e=function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;b.chart=void 0;b.data=void 0;b.group=void 0;b.joinBy=void 0;b.options=void 0;b.points=void 0;b.processedData=[];return b}c(e,a);e.prototype.animate=function(a){var c=this.chart,g=this.group,d=b(this.options.animation);c.renderer.isSVG&&(a?g.attr({translateX:c.plotLeft+c.plotWidth/2,translateY:c.plotTop+c.plotHeight/2,scaleX:.001,scaleY:.001}):g.animate({translateX:c.plotLeft,translateY:c.plotTop,
scaleX:1,scaleY:1},d))};e.prototype.animateDrilldown=function(b){var a=this.chart,c=this.group;a.renderer.isSVG&&(b?c.attr({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(c.animate({translateX:a.plotLeft,translateY:a.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),a.drilldown&&a.drilldown.fadeInGroup(this.dataLabelsGroup)))};e.prototype.animateDrillupFrom=function(){var b=this.chart;b.renderer.isSVG&&this.group.animate({translateX:b.plotLeft+
b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})};e.prototype.animateDrillupTo=function(b){B.prototype.animateDrillupTo.call(this,b)};e.prototype.clearBounds=function(){this.points.forEach(function(b){delete b.bounds;delete b.insetIndex;delete b.projectedPath});delete this.bounds};e.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)};e.prototype.drawMapDataLabels=function(){p.prototype.drawDataLabels.call(this);
this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};e.prototype.drawPoints=function(){var b=this,a=this.chart,c=this.group,g=this.transformGroups,d=void 0===g?[]:g,e=a.mapView,l=a.renderer;e&&(this.transformGroups=d,d[0]||(d[0]=l.g().add(c)),e.insets.forEach(function(b,a){d[a+1]||d.push(l.g().add(c))}),this.doFullTranslate()&&(this.points.forEach(function(c){var g=c.graphic,e=c.shapeArgs;c.group=d["number"===typeof c.insetIndex?c.insetIndex+1:0];g&&g.parentGroup!==c.group&&g.add(c.group);
e&&a.hasRendered&&!a.styledMode&&(e.fill=b.pointAttribs(c,c.state).fill)}),B.prototype.drawPoints.apply(this),this.points.forEach(function(c){if(c.graphic){var g="";c.name&&(g+="highcharts-name-"+c.name.replace(/ /g,"-").toLowerCase());c.properties&&c.properties["hc-key"]&&(g+=" highcharts-key-"+c.properties["hc-key"].toString().toLowerCase());g&&c.graphic.addClass(g);a.styledMode&&c.graphic.css(b.pointAttribs(c,c.selected&&"select"||void 0))}})),d.forEach(function(c,g){var d=(0===g?e:e.insets[g-
1]).getSVGTransform(),f=H(b.options[b.pointAttrToOptions&&b.pointAttrToOptions["stroke-width"]||"borderWidth"],1),m=d.scaleX,h=0<d.scaleY?1:-1;if(l.globalAnimation&&a.hasRendered){var k=Number(c.attr("translateX")),n=Number(c.attr("translateY")),t=Number(c.attr("scaleX"));c.attr({animator:0}).animate({animator:1},{step:function(b,a){b=t+(m-t)*a.pos;c.attr({translateX:k+(d.translateX-k)*a.pos,translateY:n+(d.translateY-n)*a.pos,scaleX:b,scaleY:b*h});c.element.setAttribute("stroke-width",f/b)}})}else c.attr(d),
c.element.setAttribute("stroke-width",f/m)}),this.drawMapDataLabels())};e.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var b=this.chart.mapView,a=b.insets,c=b.projection,d=[];(this.points||[]).forEach(function(b){if(b.path||b.geometry){"string"===typeof b.path?b.path=t(b.path):g(b.path)&&"M"===b.path[0]&&(b.path=z.prototype.pathToSegments(b.path));if(!b.bounds){var e=b.getProjectedBounds(c);if(e){b.labelrank=H(b.labelrank,(e.x2-e.x1)*(e.y2-e.y1));var f=e.midX,m=e.midY;
if(a&&l(f)&&l(m)){var h=r(a,function(b){return b.isInside({x:f,y:m})});h&&(delete b.projectedPath,(e=b.getProjectedBounds(h.projection))&&h.allBounds.push(e),b.insetIndex=a.indexOf(h))}b.bounds=e}}b.bounds&&void 0===b.insetIndex&&d.push(b.bounds)}});this.bounds=u.compositeBounds(d)}return this.bounds};e.prototype.hasData=function(){return!!this.processedXData.length};e.prototype.pointAttribs=function(b,a){var c=b.series.chart,g=c.mapView;a=c.styledMode?this.colorAttribs(b):B.prototype.pointAttribs.call(this,
b,a);(b=b.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"])&&g&&(b/=g.getScale());a.dashstyle&&g&&this.options.borderWidth&&(b=this.options.borderWidth/g.getScale());a["stroke-width"]=H(b,"inherit");return a};e.prototype.updateData=function(){return this.processedData?!1:a.prototype.updateData.apply(this,arguments)};e.prototype.setData=function(){a.prototype.setData.apply(this,arguments);this.processData();this.generatePoints()};e.prototype.processData=function(){var b=
this.options,a=b.data,c=this.chart.options.chart,e=this.joinBy,f=b.keys||this.pointArrayMap,m=[],h={},n=this.chart.mapView;n=n&&(A(b.mapData,!0)?n.getGeoMap(b.mapData):n.geoMap);var t=this.chart.mapTransforms;(this.chart.mapTransforms=t=c.mapTransforms||n&&n["hc-transform"]||t)&&G(t,function(b){b.rotation&&(b.cosAngle=Math.cos(b.rotation),b.sinAngle=Math.sin(b.rotation))});if(g(b.mapData))var p=b.mapData;else n&&"FeatureCollection"===n.type&&(this.mapTitle=n.title,p=k.geojson(n,this.type,this));var r=
this.processedData=[];a&&a.forEach(function(c,m){var h=0;if(l(c))r[m]={value:c};else if(g(c)){r[m]={};!b.keys&&c.length>f.length&&"string"===typeof c[0]&&(r[m]["hc-key"]=c[0],++h);for(var k=0;k<f.length;++k,++h)f[k]&&"undefined"!==typeof c[h]&&(0<f[k].indexOf(".")?d.prototype.setNestedProperty(r[m],c[h],f[k]):r[m][f[k]]=c[h])}else r[m]=a[m];e&&"_i"===e[0]&&(r[m]._i=m)});if(p){this.mapData=p;this.mapMap={};for(t=0;t<p.length;t++)c=p[t],n=c.properties,c._i=t,e[0]&&n&&n[e[0]]&&(c[e[0]]=n[e[0]]),h[c[e[0]]]=
c;this.mapMap=h;if(e[1]){var q=e[1];r.forEach(function(b){b=v(q,b);h[b]&&m.push(h[b])})}if(b.allAreas){if(e[1]){var u=e[1];r.forEach(function(b){m.push(v(u,b))})}var y="|"+m.map(function(b){return b&&b[e[0]]}).join("|")+"|";p.forEach(function(b){e[0]&&-1!==y.indexOf("|"+b[e[0]]+"|")||r.push(I(b,{value:null}))})}}this.processedXData=Array(r.length)};e.prototype.setOptions=function(b){b=p.prototype.setOptions.call(this,b);var a=b.joinBy;null===a&&(a="_i");a=this.joinBy=F(a);a[1]||(a[1]=a[0]);return b};
e.prototype.translate=function(){var b=this.doFullTranslate(),a=this.chart.mapView,c=a&&a.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds());if(a){var g=a.getSVGTransform();this.points.forEach(function(e){var f=l(e.insetIndex)&&a.insets[e.insetIndex].getSVGTransform()||g;f&&e.bounds&&l(e.bounds.midX)&&l(e.bounds.midY)&&(e.plotX=e.bounds.midX*f.scaleX+f.translateX,e.plotY=e.bounds.midY*f.scaleY+
f.translateY);b&&(e.shapeType="path",e.shapeArgs={d:d.getProjectedPath(e,c)})})}y(this,"afterTranslate")};e.defaultOptions=I(E.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var b=this.series.chart.numberFormatter,a=this.point.value;return l(a)?b(a,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,
borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}});return e}(E);f(e.prototype,{type:"map",axisTypes:h.SeriesMixin.axisTypes,colorAttribs:h.SeriesMixin.colorAttribs,colorKey:h.SeriesMixin.colorKey,directTouch:!0,drawDataLabels:a,drawGraph:a,drawLegendSymbol:n.drawRectangle,forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:h.SeriesMixin.getSymbol,isCartesian:!1,parallelArrays:h.SeriesMixin.parallelArrays,
pointArrayMap:h.SeriesMixin.pointArrayMap,pointClass:d,preserveAspectRatio:!0,searchPoint:a,trackerGroups:h.SeriesMixin.trackerGroups,useMapGeometry:!0});m.registerSeriesType("map",e);"";return e});w(a,"Series/MapLine/MapLineSeries.js",[a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,q){var k=this&&this.__extends||function(){var a=function(d,f){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var c in d)d.hasOwnProperty(c)&&
(a[c]=d[c])};return a(d,f)};return function(d,f){function m(){this.constructor=d}a(d,f);d.prototype=null===f?Object.create(f):(m.prototype=f.prototype,new m)}}(),n=h.series,f=q.extend,d=q.merge;q=function(f){function h(){var a=null!==f&&f.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}k(h,f);h.prototype.pointAttribs=function(d,f){d=a.prototype.pointAttribs.call(this,d,f);d.fill=this.options.fillColor;return d};h.defaultOptions=d(a.defaultOptions,{lineWidth:1,fillColor:"none"});
return h}(a);f(q.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:n.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});h.registerSeriesType("mapline",q);"";return q});w(a,"Series/MapPoint/MapPointPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h){var q=this&&this.__extends||function(){var a=function(f,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var f in d)d.hasOwnProperty(f)&&
(a[f]=d[f])};return a(f,d)};return function(f,d){function h(){this.constructor=f}a(f,d);f.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}(),k=h.isNumber;return function(a){function f(){var d=null!==a&&a.apply(this,arguments)||this;d.options=void 0;d.series=void 0;return d}q(f,a);f.prototype.isValid=function(){return!!(this.options.geometry||k(this.x)&&k(this.y)||k(this.options.lon)&&k(this.options.lat))};return f}(a.seriesTypes.scatter.prototype.pointClass)});w(a,"Series/MapPoint/MapPointSeries.js",
[a["Core/Globals.js"],a["Series/MapPoint/MapPointPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,q,k){var n=this&&this.__extends||function(){var a=function(d,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return a(d,c)};return function(d,c){function b(){this.constructor=d}a(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();a=a.noop;
var f=q.seriesTypes.scatter,d=k.extend,u=k.fireEvent,p=k.isNumber,m=k.merge;k=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;c.chart=void 0;c.data=void 0;c.options=void 0;c.points=void 0;return c}n(d,a);d.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};d.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var c=a.geometry,d=a.lon;a=a.lat;c=c&&"Point"===c.type&&c.coordinates;
p(d)&&p(a)&&(c=[d,a]);if(c)return b.lonLatToProjectedUnits({lon:c[0],lat:c[1]})}};d.prototype.translate=function(){var a=this,b=this.chart.mapView;this.processedXData||this.processData();this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds());if(b){var d=b.projection.hasCoordinates;this.points.forEach(function(c){var e=c.x;e=void 0===e?void 0:e;var f=c.y;f=void 0===f?void 0:f;var h=a.projectPoint(c.options);h?(e=h.x,f=h.y):c.bounds&&(e=c.bounds.midX,
f=c.bounds.midY);p(e)&&p(f)?(e=b.projectedUnitsToPixels({x:e,y:f}),c.plotX=e.x,c.plotY=d?e.y:a.chart.plotHeight-e.y):c.y=c.plotX=c.plotY=void 0;c.isInside=a.isPointInside(c);c.zone=a.zones.length?c.getZone():void 0})}u(this,"afterTranslate")};d.defaultOptions=m(f.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}});return d}(f);d(k.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:h,
searchPoint:a,useMapGeometry:!0});q.registerSeriesType("mappoint",k);"";return k});w(a,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,
color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});w(a,"Series/Bubble/BubbleLegendItem.js",[a["Core/Color/Color.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,h,q,k){var n=a.parse,f=q.noop,d=k.arrayMax,u=k.arrayMin,p=k.isNumber,m=k.merge,z=k.pick,e=k.stableSort;"";return function(){function a(b,a){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=
this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0;this.setState=f;this.init(b,a)}a.prototype.init=function(b,a){this.options=b;this.visible=!0;this.chart=a.chart;this.legend=a};a.prototype.addToLegend=function(b){b.splice(this.options.legendIndex,0,this)};a.prototype.drawLegendSymbol=function(b){var a=this.chart,c=this.options,d=z(b.options.itemDistance,20),f=c.ranges,h=c.connectorDistance;this.fontMetrics=a.renderer.fontMetrics(c.labels.style.fontSize);
f&&f.length&&p(f[0].value)?(e(f,function(b,a){return a.value-b.value}),this.ranges=f,this.setOptions(),this.render(),b=this.getMaxLabelSize(),f=this.ranges[0].radius,a=2*f,h=h-f+b.width,h=0<h?h:0,this.maxLabel=b,this.movementX="left"===c.labels.align?h:0,this.legendItemWidth=a+h+d,this.legendItemHeight=a+this.fontMetrics.h/2):b.options.bubbleLegend.autoRanges=!0};a.prototype.setOptions=function(){var b=this.ranges,a=this.options,c=this.chart.series[a.seriesIndex],d=this.legend.baseline,e={zIndex:a.zIndex,
"stroke-width":a.borderWidth},f={zIndex:a.zIndex,"stroke-width":a.connectorWidth},h={align:this.legend.options.rtl||"left"===a.labels.align?"right":"left",zIndex:a.zIndex},g=c.options.marker.fillOpacity,l=this.chart.styledMode;b.forEach(function(k,p){l||(e.stroke=z(k.borderColor,a.borderColor,c.color),e.fill=z(k.color,a.color,1!==g?n(c.color).setOpacity(g).get("rgba"):c.color),f.stroke=z(k.connectorColor,a.connectorColor,c.color));b[p].radius=this.getRangeRadius(k.value);b[p]=m(b[p],{center:b[0].radius-
b[p].radius+d});l||m(!0,b[p],{bubbleAttribs:m(e),connectorAttribs:m(f),labelAttribs:h})},this)};a.prototype.getRangeRadius=function(b){var a=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,a.ranges[a.ranges.length-1].value,a.ranges[0].value,a.minSize,a.maxSize,b)};a.prototype.render=function(){var b=this.chart.renderer,a=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});this.legendSymbol=b.g("bubble-legend");this.legendItem=
b.g("bubble-legend-item");this.legendSymbol.translateX=0;this.legendSymbol.translateY=0;this.ranges.forEach(function(b){b.value>=a&&this.renderRange(b)},this);this.legendSymbol.add(this.legendItem);this.legendItem.add(this.legendGroup);this.hideOverlappingLabels()};a.prototype.renderRange=function(b){var a=this.options,c=a.labels,d=this.chart,e=d.series[a.seriesIndex],f=d.renderer,h=this.symbols;d=h.labels;var g=b.center,l=Math.abs(b.radius),m=a.connectorDistance||0,k=c.align,n=a.connectorWidth,p=
this.ranges[0].radius||0,q=g-l-a.borderWidth/2+n/2,u=this.fontMetrics;u=u.f/2-(u.h-u.f)/2;var z=f.styledMode;m=this.legend.options.rtl||"left"===k?-m:m;"center"===k&&(m=0,a.connectorDistance=0,b.labelAttribs.align="center");k=q+a.labels.y;var w=p+m+a.labels.x;h.bubbleItems.push(f.circle(p,g+((q%1?1:.5)-(n%2?0:.5)),l).attr(z?{}:b.bubbleAttribs).addClass((z?"highcharts-color-"+e.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(a.className||"")).add(this.legendSymbol));h.connectors.push(f.path(f.crispLine([["M",
p,q],["L",p+m,q]],a.connectorWidth)).attr(z?{}:b.connectorAttribs).addClass((z?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(a.connectorClassName||"")).add(this.legendSymbol));b=f.text(this.formatLabel(b),w,k+u).attr(z?{}:b.labelAttribs).css(z?{}:c.style).addClass("highcharts-bubble-legend-labels "+(a.labels.className||"")).add(this.legendSymbol);d.push(b);b.placed=!0;b.alignAttr={x:w,y:k+u}};a.prototype.getMaxLabelSize=function(){var b,a;this.symbols.labels.forEach(function(c){a=
c.getBBox(!0);b=b?a.width>b.width?a:b:a});return b||{}};a.prototype.formatLabel=function(b){var a=this.options,c=a.labels.formatter;a=a.labels.format;var d=this.chart.numberFormatter;return a?h.format(a,b):c?c.call(b):d(b.value,1)};a.prototype.hideOverlappingLabels=function(){var b=this.chart,a=this.symbols;!this.options.labels.allowOverlap&&a&&(b.hideOverlappingLabels(a.labels),a.labels.forEach(function(b,c){b.newOpacity?b.newOpacity!==b.oldOpacity&&a.connectors[c].show():a.connectors[c].hide()}))};
a.prototype.getRanges=function(){var b=this.legend.bubbleLegend,a=b.options.ranges,c,e=Number.MAX_VALUE,f=-Number.MAX_VALUE;b.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(c=a.zData.filter(p),c.length&&(e=z(a.options.zMin,Math.min(e,Math.max(u(c),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),f=z(a.options.zMax,Math.max(f,d(c)))))});var h=e===f?[{value:f}]:[{value:e},{value:(e+f)/2},{value:f,autoRanges:!0}];a.length&&a[0].radius&&h.reverse();h.forEach(function(b,
c){a&&a[c]&&(h[c]=m(a[c],b))});return h};a.prototype.predictBubbleSizes=function(){var a=this.chart,c=this.fontMetrics,d=a.legend.options,e=d.floating,f=(d="horizontal"===d.layout)?a.legend.lastLineHeight:0,h=a.plotSizeX,m=a.plotSizeY,g=a.series[this.options.seriesIndex],l=g.getPxExtremes();a=Math.ceil(l.minPxSize);l=Math.ceil(l.maxPxSize);var k=Math.min(m,h);g=g.options.maxSize;if(e||!/%$/.test(g))c=l;else if(g=parseFloat(g),c=(k+f-c.h/2)*g/100/(g/100+1),d&&m-c>=h||!d&&h-c>=m)c=l;return[a,Math.ceil(c)]};
a.prototype.updateRanges=function(a,c){var b=this.legend.options.bubbleLegend;b.minSize=a;b.maxSize=c;b.ranges=this.getRanges()};a.prototype.correctSizes=function(){var a=this.legend,c=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(c.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,c.maxPxSize),a.render())};return a}()});w(a,"Series/Bubble/BubbleLegendComposition.js",[a["Series/Bubble/BubbleLegendDefaults.js"],a["Series/Bubble/BubbleLegendItem.js"],
a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(a,h,q,k){var n=q.setOptions,f=k.addEvent,d=k.objectEach,u=k.wrap,p;(function(m){function k(a,b,f){var g=this.legend,l=0<=e(this);if(g&&g.options.enabled&&g.bubbleLegend&&g.options.bubbleLegend.autoRanges&&l){var h=g.bubbleLegend.options;l=g.bubbleLegend.predictBubbleSizes();g.bubbleLegend.updateRanges(l[0],l[1]);h.placed||(g.group.placed=!1,g.allItems.forEach(function(a){a.legendGroup.translateY=null}));g.render();this.getMargins();this.axes.forEach(function(a){a.visible&&
a.render();h.placed||(a.setScale(),a.updateNames(),d(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});h.placed=!0;this.getMargins();a.call(this,b,f);g.bubbleLegend.correctSizes();q(g,c(g))}else a.call(this,b,f),g&&g.options.enabled&&g.bubbleLegend&&(g.render(),q(g,c(g)))}function e(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function c(a){a=a.allItems;var b=[],c=a.length,d,e=0;for(d=0;d<c;d++)if(a[d].legendItemHeight&&(a[d].itemHeight=
a[d].legendItemHeight),a[d]===a[c-1]||a[d+1]&&a[d]._legendItemPos[1]!==a[d+1]._legendItemPos[1]){b.push({height:0});var f=b[b.length-1];for(e;e<=d;e++)a[e].itemHeight>f.height&&(f.height=a[e].itemHeight);f.step=d}return b}function b(a){var b=this.bubbleLegend,c=this.options,d=c.bubbleLegend,f=e(this.chart);b&&b.ranges&&b.ranges.length&&(d.ranges.length&&(d.autoRanges=!!d.ranges[0].autoRanges),this.destroyItem(b));0<=f&&c.enabled&&d.enabled&&(d.seriesIndex=f,this.bubbleLegend=new h(d,this),this.bubbleLegend.addToLegend(a.allItems))}
function p(){var a=this.chart,b=this.visible,c=this.chart.legend;c&&c.bubbleLegend&&(this.visible=!b,this.ignoreSeries=b,a=0<=e(a),c.bubbleLegend.visible!==a&&(c.update({bubbleLegend:{enabled:a}}),c.bubbleLegend.visible=a),this.visible=b)}function q(a,b){var c=a.options.rtl,d,e,f,h=0;a.allItems.forEach(function(a,g){d=a.legendGroup.translateX;e=a._legendItemPos[1];if((f=a.movementX)||c&&a.ranges)f=c?d-a.options.maxSize/2:d+f,a.legendGroup.attr({translateX:f});g>b[h].step&&h++;a.legendGroup.attr({translateY:Math.round(e+
b[h].height/2)});a._legendItemPos[1]=e+b[h].height/2})}var w=[];m.compose=function(c,d,e){-1===w.indexOf(c)&&(w.push(c),n({legend:{bubbleLegend:a}}),u(c.prototype,"drawChartBox",k));-1===w.indexOf(d)&&(w.push(d),f(d,"afterGetAllItems",b));-1===w.indexOf(e)&&(w.push(e),f(e,"legendItemClick",p))}})(p||(p={}));return p});w(a,"Series/Bubble/BubblePoint.js",[a["Core/Series/Point.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,q){var k=this&&this.__extends||function(){var a=
function(f,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f])};return a(f,d)};return function(f,d){function h(){this.constructor=f}a(f,d);f.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}();q=q.extend;h=function(h){function f(){var a=null!==h&&h.apply(this,arguments)||this;a.options=void 0;a.series=void 0;return a}k(f,h);f.prototype.haloPath=function(d){return a.prototype.haloPath.call(this,
0===d?0:(this.marker?this.marker.radius||0:0)+d)};return f}(h.seriesTypes.scatter.prototype.pointClass);q(h.prototype,{ttBelow:!1});return h});w(a,"Series/Bubble/BubbleSeries.js",[a["Core/Axis/Axis.js"],a["Series/Bubble/BubbleLegendComposition.js"],a["Series/Bubble/BubblePoint.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,q,k,n,f,d,u){var p=this&&this.__extends||function(){var a=function(b,c){a=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),m=k.parse;k=n.noop;var z=d.seriesTypes;n=z.column;var e=z.scatter;z=u.addEvent;var c=u.arrayMax,b=u.arrayMin,t=u.clamp,w=u.extend,D=u.isNumber,r=u.merge,y=u.pick;u=function(a){function d(){var b=null!==a&&
a.apply(this,arguments)||this;b.data=void 0;b.maxPxSize=void 0;b.minPxSize=void 0;b.options=void 0;b.points=void 0;b.radii=void 0;b.yData=void 0;b.zData=void 0;return b}p(d,a);d.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},this)};d.prototype.getRadii=function(){var a=this,b=this.zData,
c=this.yData,d=[],e=this.chart.bubbleZExtremes;var g=this.getPxExtremes();var f=g.minPxSize,h=g.maxPxSize;if(!e){var m=Number.MAX_VALUE,k=-Number.MAX_VALUE,n;this.chart.series.forEach(function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=b.getZExtremes())&&(m=Math.min(m||b.zMin,b.zMin),k=Math.max(k||b.zMax,b.zMax),n=!0)});n?(e={zMin:m,zMax:k},this.chart.bubbleZExtremes=e):e={zMin:0,zMax:0}}var p=0;for(g=b.length;p<g;p++){var q=b[p];d.push(this.getRadius(e.zMin,e.zMax,
f,h,q,c[p]))}this.radii=d};d.prototype.getRadius=function(a,b,c,d,e,g){var f=this.options,l="width"!==f.sizeBy,h=f.zThreshold,m=b-a,k=.5;if(null===g||null===e)return null;if(D(e)){f.sizeByAbsoluteValue&&(e=Math.abs(e-h),m=Math.max(b-h,Math.abs(a-h)),a=0);if(e<a)return c/2-1;0<m&&(k=(e-a)/m)}l&&0<=k&&(k=Math.sqrt(k));return Math.ceil(c+k*(d-c))/2};d.prototype.hasData=function(){return!!this.processedXData.length};d.prototype.pointAttribs=function(a,b){var c=this.options.marker.fillOpacity;a=f.prototype.pointAttribs.call(this,
a,b);1!==c&&(a.fill=m(a.fill).setOpacity(c).get("rgba"));return a};d.prototype.translate=function(){a.prototype.translate.call(this);this.getRadii();this.translateBubble()};d.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,c=this.getPxExtremes().minPxSize,d=a.length;d--;){var e=a[d],g=b?b[d]:0;D(g)&&g>=c/2?(e.marker=w(e.marker,{radius:g,width:2*g,height:2*g}),e.dlBox={x:e.plotX-g,y:e.plotY-g,width:2*g,height:2*g}):e.shapeArgs=e.plotY=e.dlBox=void 0}};d.prototype.getPxExtremes=
function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"===typeof b){var c=/%$/.test(b);b=parseInt(b,10)}return c?a*b/100:b},c=b(y(this.options.minSize,8));b=Math.max(b(y(this.options.maxSize,"20%")),c);return{minPxSize:c,maxPxSize:b}};d.prototype.getZExtremes=function(){var a=this.options,d=(this.zData||[]).filter(D);if(d.length){var e=y(a.zMin,t(b(d),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));a=y(a.zMax,c(d));if(D(e)&&D(a))return{zMin:e,
zMax:a}}};d.compose=h.compose;d.defaultOptions=r(e.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return D(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,
zoneAxis:"z"});return d}(e);w(u.prototype,{alignDataLabel:n.prototype.alignDataLabel,applyZones:k,bubblePadding:!0,buildKDTree:k,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:q,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});z(u,"updatedData",function(a){delete a.target.chart.bubbleZExtremes});a.prototype.beforePadding=function(){var a=this,b=this.len,c=this.chart,d=0,e=b,f=this.isXAxis,h=f?"xData":"yData",m=this.min,k=this.max-
m,n=b/k,p;this.series.forEach(function(b){if(b.bubblePadding&&(b.visible||!c.options.chart.ignoreHiddenSeries)){p=a.allowZoomOutside=!0;var g=b[h];f&&b.getRadii(0,0,b);if(0<k)for(var l=g.length;l--;)if(D(g[l])&&a.dataMin<=g[l]&&g[l]<=a.max){var q=b.radii&&b.radii[l]||0;d=Math.min((g[l]-m)*n-q,d);e=Math.max((g[l]-m)*n+q,e)}}});p&&0<k&&!this.logarithmic&&(e-=b,n*=(b+Math.max(0,d)-Math.min(e,b))/b,[["min","userMin",d],["max","userMax",e]].forEach(function(b){"undefined"===typeof y(a.options[b[0]],a[b[1]])&&
(a[b[0]]+=b[2]/n)}))};d.registerSeriesType("bubble",u);"";"";return u});w(a,"Series/MapBubble/MapBubblePoint.js",[a["Series/Map/MapPoint.js"],a["Core/Series/SeriesRegistry.js"]],function(a,h){var q=this&&this.__extends||function(){var a=function(f,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f])};return a(f,d)};return function(f,d){function h(){this.constructor=f}a(f,d);f.prototype=null===d?Object.create(d):
(h.prototype=d.prototype,new h)}}();h=h.seriesTypes;var k=h.map;return function(h){function f(){var d=null!==h&&h.apply(this,arguments)||this;d.applyOptions=k.prototype.pointClass.prototype.applyOptions;d.getProjectedBounds=a.prototype.getProjectedBounds;return d}q(f,h);f.prototype.isValid=function(){return"number"===typeof this.z};return f}(h.bubble.prototype.pointClass)});w(a,"Series/MapBubble/MapBubbleSeries.js",[a["Series/Bubble/BubbleSeries.js"],a["Series/MapBubble/MapBubblePoint.js"],a["Series/Map/MapSeries.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,q,k,n){var f=this&&this.__extends||function(){var a=function(d,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(d,e)};return function(d,e){function c(){this.constructor=d}a(d,e);d.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}(),d=k.seriesTypes.mappoint,u=n.extend,p=n.merge;n=function(h){function k(){var a=
null!==h&&h.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}f(k,h);k.prototype.searchPoint=function(a,c){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},c,a)};k.prototype.translate=function(){d.prototype.translate.call(this);this.getRadii();this.translateBubble()};k.compose=a.compose;k.defaultOptions=p(a.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}});
return k}(a);u(n.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:q.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:h,processData:q.prototype.processData,projectPoint:d.prototype.projectPoint,setData:q.prototype.setData,setOptions:q.prototype.setOptions,updateData:q.prototype.updateData,useMapGeometry:!0,xyFromShape:!0});k.registerSeriesType("mapbubble",n);"";return n});w(a,"Series/Heatmap/HeatmapPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],
function(a,h){var q=this&&this.__extends||function(){var a=function(d,f){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c])};return a(d,f)};return function(d,f){function h(){this.constructor=d}a(d,f);d.prototype=null===f?Object.create(f):(h.prototype=f.prototype,new h)}}(),k=h.clamp,n=h.defined,f=h.extend,d=h.pick;a=function(a){function f(){var d=null!==a&&a.apply(this,arguments)||this;d.options=void 0;
d.series=void 0;d.value=void 0;d.x=void 0;d.y=void 0;return d}q(f,a);f.prototype.applyOptions=function(d,f){d=a.prototype.applyOptions.call(this,d,f);d.formatPrefix=d.isNull||null===d.value?"null":"point";return d};f.prototype.getCellAttributes=function(){var a=this.series,f=a.options,e=(f.colsize||1)/2,c=(f.rowsize||1)/2,b=a.xAxis,h=a.yAxis,p=this.options.marker||a.options.marker;a=a.pointPlacementToXValue();var q=d(this.pointPadding,f.pointPadding,0),r={x1:k(Math.round(b.len-(b.translate(this.x-
e,!1,!0,!1,!0,-a)||0)),-b.len,2*b.len),x2:k(Math.round(b.len-(b.translate(this.x+e,!1,!0,!1,!0,-a)||0)),-b.len,2*b.len),y1:k(Math.round(h.translate(this.y-c,!1,!0,!1,!0)||0),-h.len,2*h.len),y2:k(Math.round(h.translate(this.y+c,!1,!0,!1,!0)||0),-h.len,2*h.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=a+"1",d=a+"2",e=Math.abs(r[c]-r[d]),f=p&&p.lineWidth||0,h=Math.abs(r[c]+r[d])/2;b=p&&p[b];n(b)&&b<e&&(b=b/2+f/2,r[c]=h-b,r[d]=h+b);q&&("y"===a&&(c=d,d=a+"1"),r[c]+=q,
r[d]-=q)});return r};f.prototype.haloPath=function(a){if(!a)return[];var d=this.shapeArgs;return["M",d.x-a,d.y-a,"L",d.x-a,d.y+d.height+a,d.x+d.width+a,d.y+d.height+a,d.x+d.width+a,d.y-a,"Z"]};f.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return f}(a.seriesTypes.scatter.prototype.pointClass);f(a.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return a});w(a,"Series/Heatmap/HeatmapSeries.js",[a["Core/Color/Color.js"],a["Series/ColorMapMixin.js"],
a["Series/Heatmap/HeatmapPoint.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,h,q,k,n,f,d){var u=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):
(d.prototype=c.prototype,new d)}}(),p=n.series,m=n.seriesTypes,w=m.column,e=m.scatter,c=f.prototype.symbols,b=d.extend,t=d.fireEvent,D=d.isNumber,E=d.merge,r=d.pick;f=function(d){function f(){var a=null!==d&&d.apply(this,arguments)||this;a.colorAxis=void 0;a.data=void 0;a.options=void 0;a.points=void 0;a.valueMax=NaN;a.valueMin=NaN;return a}u(f,d);f.prototype.drawPoints=function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)p.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&
(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})};f.prototype.getExtremes=function(){var a=p.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;D(b)&&(this.valueMin=b);D(a)&&(this.valueMax=a);return p.prototype.getExtremes.call(this)};f.prototype.getValidPoints=function(a,b){return p.prototype.getValidPoints.call(this,a,b,!0)};f.prototype.hasData=function(){return!!this.processedXData.length};f.prototype.init=
function(){p.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=r(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;c.ellipse=c.circle;a.marker&&(a.marker.r=a.borderRadius)};f.prototype.markerAttribs=function(a,b){var c=a.marker||{},d=this.options.marker||{},e=a.shapeArgs||{},f={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=d.states[b]||{};var h=c.states&&c.states[b]||{};[["width","x"],["height","y"]].forEach(function(a){f[a[0]]=(h[a[0]]||g[a[0]]||e[a[0]])+
(h[a[0]+"Plus"]||g[a[0]+"Plus"]||0);f[a[1]]=e[a[1]]+(e[a[0]]-f[a[0]])/2})}return b?f:e};f.prototype.pointAttribs=function(b,c){var d=p.prototype.pointAttribs.call(this,b,c),e=this.options||{},f=this.chart.options.plotOptions||{},g=f.series||{},h=f.heatmap||{};f=b&&b.options.borderColor||e.borderColor||h.borderColor||g.borderColor;g=b&&b.options.borderWidth||e.borderWidth||h.borderWidth||g.borderWidth||d["stroke-width"];d.stroke=b&&b.marker&&b.marker.lineColor||e.marker&&e.marker.lineColor||f||this.color;
d["stroke-width"]=g;c&&(b=E(e.states[c],e.marker&&e.marker.states[c],b&&b.options.states&&b.options.states[c]||{}),c=b.brightness,d.fill=b.color||a.parse(d.fill).brighten(c||0).get(),d.stroke=b.lineColor);return d};f.prototype.setClip=function(a){var b=this.chart;p.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)};f.prototype.translate=function(){var a=this.options,d=a.marker&&
a.marker.symbol||"rect",e=c[d]?d:"rect",f=-1!==["circle","square"].indexOf(e);this.generatePoints();this.points.forEach(function(g){var h=g.getCellAttributes(),k={};k.x=Math.min(h.x1,h.x2);k.y=Math.min(h.y1,h.y2);k.width=Math.max(Math.abs(h.x2-h.x1),0);k.height=Math.max(Math.abs(h.y2-h.y1),0);var l=g.hasImage=0===(g.marker&&g.marker.symbol||d||"").indexOf("url");if(f){var m=Math.abs(k.width-k.height);k.x=Math.min(h.x1,h.x2)+(k.width<k.height?0:m/2);k.y=Math.min(h.y1,h.y2)+(k.width<k.height?m/2:0);
k.width=k.height=Math.min(k.width,k.height)}m={plotX:(h.x1+h.x2)/2,plotY:(h.y1+h.y2)/2,clientX:(h.x1+h.x2)/2,shapeType:"path",shapeArgs:E(!0,k,{d:c[e](k.x,k.y,k.width,k.height,{r:a.borderRadius})})};l&&(g.marker={width:k.width,height:k.height});b(g,m)});t(this,"afterTranslate")};f.defaultOptions=E(e.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return D(b)?a(b,-1):""},inside:!0,
verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}});return f}(e);b(f.prototype,{alignDataLabel:w.prototype.alignDataLabel,axisTypes:h.SeriesMixin.axisTypes,colorAttribs:h.SeriesMixin.colorAttribs,colorKey:h.SeriesMixin.colorKey,directTouch:!0,drawLegendSymbol:k.drawRectangle,getExtremesFromAll:!0,
getSymbol:p.prototype.getSymbol,parallelArrays:h.SeriesMixin.parallelArrays,pointArrayMap:["y","value"],pointClass:q,trackerGroups:h.SeriesMixin.trackerGroups});n.registerSeriesType("heatmap",f);"";"";return f});w(a,"masters/modules/map.src.js",[a["Core/Globals.js"],a["Core/Axis/Color/ColorAxis.js"],a["Series/MapBubble/MapBubbleSeries.js"],a["Core/Chart/MapChart.js"],a["Maps/MapView.js"],a["Maps/Projection.js"]],function(a,h,q,k,n,f){a.ColorAxis=h;a.MapChart=k;a.mapChart=a.Map=k.mapChart;a.MapView=
n;a.maps=k.maps;a.Projection=f;h.compose(a.Chart,a.Fx,a.Legend,a.Series);q.compose(a.Chart,a.Legend,a.Series)})});
//# sourceMappingURL=map.js.map